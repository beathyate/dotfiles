# environment variables
export POSTGRES_BIN="/Applications/Postgres.app/Contents/Versions/9.4/bin"
export XCODE_BIN="/Applications/Xcode.app/Contents/Developer/usr/bin"
export PATH="/usr/local/bin:/usr/local/sbin:$POSTGRES_BIN:$XCODE_BIN:$PATH"
export RBENV_ROOT="/usr/local/var/rbenv"
export EDITOR="/usr/local/bin/atom -w"
export CODE_DIR="$HOME/Code"
export SSL_CERT_FILE="/usr/local/opt/curl-ca-bundle/share/ca-bundle.crt"

# Simplify prompt
PS1="\n$ "

# bash_completion initializer
if [ -f $(brew --prefix)/etc/bash_completion ]; then
  . $(brew --prefix)/etc/bash_completion
fi

# code dir function and autocompletion
function cdc {
  if [ "$1" != "" ]; then
    cd $CODE_DIR && cd $1
  else
    cd $CODE_DIR
  fi
}

_cdc()
{
  local cur=${COMP_WORDS[COMP_CWORD]}
  COMPREPLY=( $(compgen -W "$(ls $CODE_DIR)" -- $cur) )
}
complete -F _cdc cdc

# copy highlighted code
function light() {
  if [ -z "$2" ]
    then src="pbpaste"
  else
    src="cat $2"
  fi
  $src | highlight -O rtf --syntax $1 --font Menlo --style molokai --font-size 18 | pbcopy
}

# rbenv initialization
eval "$(rbenv init -)"

# aliases
alias lsl='pwd && ls -laGh'
alias bx="bundle exec"
